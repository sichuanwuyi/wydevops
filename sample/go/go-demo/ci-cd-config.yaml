#本文件为本脚本项目使用的全功能配置文件。
#不同语言项目使用这个统一的全功能配置文件。
#不同语言项目可能存在不同的参数默认值，请在对应的语言子目录下的_ci-cd-config.yaml文件中配置。
globalParams:
  #wydevops会自动从yaml类型的配置文件中读取版本信息覆盖serviceName参数。
  #详细配置见配置文件：./param-mapping/params-mapping-in-yaml-file.config
  serviceName: go-demo
  #wydevops会自动从yaml类型的配置文件中读取版本信息覆盖serviceName参数。
  #详细配置见配置文件：./param-mapping/params-mapping-in-yaml-file.config
  businessVersion: 1.0.0
  #服务主端口，也是k8s服务探活和就绪的检测端口，默认是containerPorts参数中第一个端口。
  #wydevops会自动从yaml类型的配置文件中读取版本信息覆盖mainPort参数。
  #详细配置见配置文件：./param-mapping/params-mapping-in-yaml-file.config
  mainPort: 8888

  #应用设置的路由前缀参数。
  gatewayPath: /gin
  #使用istio时Gateway资源绑定的Host名称。默认值为*，表示任意Host。
  gatewayHost: www.wydevops.com
  #istio各类资源的ApiVersion参数值
  istioApiVersion: networking.istio.io/v1beta1

  #是否启用K8S服务存活探针
  livenessProbeEnable: true
  livenessUri: /health/liveness
  #是否启用K8S服务就绪探针
  readinessProbeEnable: true
  readinessUri: /health/readiness

  #K8S服务CPU和内存资源配置相关参数
  cpuLimits: 500m
  memoryLimits: 500Mi
  cpuRequests: 500m
  memoryRequests: 500Mi

  #目标K8S集群的ApiServer服务器的地址信息（必须配置）
  #格式：{服务器IP地址}|{SSH端口号}|{SSH连接账号}|{SSH连接密码}
  targetApiServer: 172.27.213.84|22|wuyi|Wpl118124
  #部署的命名空间
  targetNamespace: default
  #K8s集群内部拉取镜像的仓库信息：
  #格式：{仓库类型(nexus或harbor)},{仓库实例名称(nexus)或项目名称(harbor)},{仓库访问地址({IP}:{端口})},{登录账号},{登录密码}
  targetDockerRepo: registry,wydevops,192.168.1.218:30783,admin,admin123,30784
deploy:
  - name: ${chartName}
    params:
      - name: .Values.params.mysql.host
        value: mysql:3306
      - name: .Values.params.mysql.password
        value: root123456
      - name: .Values.params.mysql.username
        value: root
